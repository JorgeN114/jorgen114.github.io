<!-- [Previous HTML and CSS remains exactly the same] -->

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
    import { 
        getDatabase, 
        ref, 
        set, 
        onValue 
    } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-database.js";
    import {
        getAuth,
        signInWithEmailAndPassword,
        signOut,
        onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyARjXydNcfJ_fPA6E1ehiITh71X3r_vQzI",
        authDomain: "campus-status-tracker.firebaseapp.com",
        databaseURL: "https://campus-status-tracker-default-rtdb.firebaseio.com",
        projectId: "campus-status-tracker",
        storageBucket: "campus-status-tracker.firebasestorage.app",
        messagingSenderId: "751946455362",
        appId: "1:751946455362:web:64bb718d4f86a28a9ed0db"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth(app);

    // [Keep your existing STATUS_CONFIG and DOM elements]

    // Enhanced login handler with better error messages
    loginBtn.addEventListener('click', async () => {
        loginError.textContent = ''; // Clear previous errors
        loginBtn.disabled = true;
        loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
        
        try {
            await signInWithEmailAndPassword(auth, emailInput.value, loginPassword.value);
        } catch (error) {
            let errorMessage;
            switch (error.code) {
                case 'auth/operation-not-allowed':
                    errorMessage = "Email/password login is not enabled. Please contact the administrator.";
                    break;
                case 'auth/invalid-email':
                    errorMessage = "Invalid email address format.";
                    break;
                case 'auth/user-disabled':
                    errorMessage = "This account has been disabled.";
                    break;
                case 'auth/user-not-found':
                    errorMessage = "No account found with this email.";
                    break;
                case 'auth/wrong-password':
                    errorMessage = "Incorrect password.";
                    break;
                default:
                    errorMessage = "Login failed. Please try again.";
                    console.error(error);
            }
            loginError.textContent = errorMessage;
            loginPassword.value = '';
            loginPassword.focus();
        } finally {
            loginBtn.disabled = false;
            loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
        }
    });

    // [Rest of your existing JavaScript code]
</script>
